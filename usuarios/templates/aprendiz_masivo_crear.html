{% extends 'base.html' %}

{% block content %}
<main class="container mt-5">
  <h1 class="text-center">Carga Masiva de Aprendices</h1>
  <form method="post" enctype="multipart/form-data" class="mt-4">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Cargar</button>
  </form>
  {% if errores %}
  <div class="alert alert-danger mt-3">
    <ul>
      {% for error in errores %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if resumen %}
  <div class="alert alert-success mt-3">
    <ul>
      <li>Registros insertados: {{ resumen.insertados }}</li>
      <li>Errores: {{ resumen.errores }}</li>
      <li>Duplicados: {{ resumen.duplicados_dni|default:"0" }}</li>
    </ul>
  </div>
  {% endif %}
</main>
{% endblock %}